{"version":3,"file":"ArchetypeStep-BZShTnJL.js","sources":["../../src/pages/onboarding/ArchetypeStep.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ArrowLeft, ArrowRight, Info, ShieldCheck } from 'lucide-react';\nimport Button from '../../components/ui/Button';\nimport { useOnboarding } from '../../context/OnboardingContext';\nimport { motion } from 'framer-motion';\nimport ImageWithFallback from '../../components/ui/ImageWithFallback';\n\ninterface ArchetypeOption {\n  id: string;\n  name: string;\n  description: string;\n  imageUrl: string;\n}\n\nconst ArchetypeStep: React.FC = () => {\n  const { data, updateData, completeStep, goToNextStep, goToPreviousStep } = useOnboarding();\n  \n  const [selectedArchetypes, setSelectedArchetypes] = useState<string[]>(\n    data.archetypes || []\n  );\n  \n  const [error, setError] = useState<string | null>(null);\n  const [showTooltip, setShowTooltip] = useState<string | null>(null);\n  \n  // Track when the component is mounted\n  useEffect(() => {\n    // Track step view in analytics\n    if (typeof window.gtag === 'function') {\n      window.gtag('event', 'quiz_step_view', {\n        event_category: 'questionnaire',\n        event_label: 'archetype',\n        step_name: 'archetype'\n      });\n    }\n  }, []);\n  \n  const archetypeOptions: ArchetypeOption[] = [\n    {\n      id: 'modern_minimalist',\n      name: 'Modern Minimalist',\n      description: 'Strakke lijnen, neutrale kleuren en tijdloze stukken',\n      imageUrl: 'https://images.pexels.com/photos/5935748/pexels-photo-5935748.jpeg?auto=compress&cs=tinysrgb&w=600&h=800&dpr=2'\n    },\n    {\n      id: 'casual_chic',\n      name: 'Casual Chic',\n      description: 'Moeiteloze elegantie met een relaxte twist',\n      imageUrl: 'https://images.pexels.com/photos/2905238/pexels-photo-2905238.jpeg?auto=compress&cs=tinysrgb&w=600&h=800&dpr=2'\n    },\n    {\n      id: 'business_casual',\n      name: 'Business Casual',\n      description: 'Professioneel maar comfortabel voor kantoor',\n      imageUrl: 'https://images.pexels.com/photos/1043474/pexels-photo-1043474.jpeg?auto=compress&cs=tinysrgb&w=600&h=800&dpr=2'\n    },\n    {\n      id: 'streetstyle',\n      name: 'Streetstyle',\n      description: 'Authentieke streetwear met attitude',\n      imageUrl: 'https://images.pexels.com/photos/2043590/pexels-photo-2043590.jpeg?auto=compress&cs=tinysrgb&w=600&h=800&dpr=2'\n    },\n    {\n      id: 'classic_elegant',\n      name: 'Klassiek Elegant',\n      description: 'Tijdloze elegantie en verfijnde details',\n      imageUrl: 'https://images.pexels.com/photos/1021693/pexels-photo-1021693.jpeg?auto=compress&cs=tinysrgb&w=600&h=800&dpr=2'\n    },\n    {\n      id: 'urban_sporty',\n      name: 'Urban Sporty',\n      description: 'Sportieve elementen met een stadse twist',\n      imageUrl: 'https://images.pexels.com/photos/1183266/pexels-photo-1183266.jpeg?auto=compress&cs=tinysrgb&w=600&h=800&dpr=2'\n    }\n  ];\n  \n  // Map style IDs to archetypes\n  const styleToArchetype: Record<string, string> = {\n    'modern_minimalist': 'urban',\n    'casual_chic': 'casual_chic',\n    'business_casual': 'klassiek',\n    'streetstyle': 'streetstyle',\n    'classic_elegant': 'klassiek',\n    'urban_sporty': 'urban'\n  };\n  \n  const toggleArchetype = (id: string) => {\n    setSelectedArchetypes(prev => {\n      // If already selected, remove it\n      if (prev.includes(id)) {\n        return prev.filter(a => a !== id);\n      }\n      \n      // If not selected and we already have 2, show error\n      if (prev.length >= 2) {\n        setError('Je kunt maximaal 2 stijlen selecteren');\n        return prev;\n      }\n      \n      // Otherwise, add it\n      setError(null);\n      return [...prev, id];\n    });\n    \n    // Track archetype selection\n    if (typeof window.gtag === 'function') {\n      window.gtag('event', 'archetype_selection', {\n        event_category: 'questionnaire',\n        event_label: id,\n        archetype: id\n      });\n    }\n  };\n  \n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (selectedArchetypes.length === 0) {\n      setError('Selecteer minimaal 1 stijl');\n      return;\n    }\n    \n    // Map selected styles to archetypes\n    const archetypes = selectedArchetypes.map(style => styleToArchetype[style]);\n    \n    // Update onboarding data\n    updateData({\n      archetypes\n    });\n    \n    // Mark step as completed\n    completeStep('archetype');\n    \n    // Go to next step\n    goToNextStep();\n  };\n  \n  return (\n    <div className=\"min-h-screen bg-[#FAF8F6]\">\n      <div className=\"container-slim py-16\">\n        <div className=\"max-w-4xl mx-auto\">\n          {/* Progress indicator */}\n          <div className=\"mb-10\">\n            <div className=\"flex justify-between text-sm text-gray-500 mb-2\">\n              <span>Stap 2 van 3</span>\n              <span>66%</span>\n            </div>\n            <div className=\"h-1 bg-gray-200 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-[#bfae9f] rounded-full transition-all duration-300\"\n                style={{ width: '66%' }}\n              ></div>\n            </div>\n          </div>\n\n          <motion.div\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.5 }}\n          >\n            <div className=\"text-center mb-8\">\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2 font-display\">\n                Wat past het beste bij jouw stijl?\n              </h1>\n              <p className=\"text-gray-600\">\n                Kies maximaal twee stijlen die jou het meest aanspreken\n              </p>\n            </div>\n\n            <div className=\"bg-white rounded-2xl shadow-sm overflow-hidden\">\n              <form onSubmit={handleSubmit} className=\"p-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n                  {archetypeOptions.map((option) => (\n                    <div key={option.id} className=\"relative\">\n                      <button\n                        type=\"button\"\n                        onClick={() => toggleArchetype(option.id)}\n                        className={`\n                          w-full p-4 rounded-xl border text-left transition-all\n                          ${selectedArchetypes.includes(option.id)\n                            ? 'border-[#bfae9f] bg-[#bfae9f]/5'\n                            : 'border-gray-200 hover:border-[#bfae9f]/50 hover:bg-[#bfae9f]/5'}\n                        `}\n                      >\n                        <div className=\"flex flex-col md:flex-row items-center md:items-start space-y-3 md:space-y-0 md:space-x-4\">\n                          <div className=\"w-full md:w-24 h-24 overflow-hidden rounded-lg shadow-md\">\n                            <ImageWithFallback\n                              src={option.imageUrl}\n                              alt={option.name}\n                              className=\"w-full h-full object-cover\"\n                              componentName=\"ArchetypeStep\"\n                            />\n                          </div>\n                          <div className=\"flex-1 text-center md:text-left\">\n                            <h3 className=\"font-medium text-gray-900 text-lg mb-1\">{option.name}</h3>\n                            <p className=\"text-gray-600 text-sm\">{option.description}</p>\n                          </div>\n                          <div className=\"absolute top-4 right-4\">\n                            <div className={`\n                              w-6 h-6 rounded-full flex items-center justify-center\n                              ${selectedArchetypes.includes(option.id)\n                                ? 'bg-[#bfae9f] text-white'\n                                : 'bg-gray-100 border border-gray-200'}\n                            `}>\n                              {selectedArchetypes.includes(option.id) && (\n                                <svg width=\"12\" height=\"12\" viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                  <path d=\"M10 3L4.5 8.5L2 6\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                                </svg>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      </button>\n                      \n                      <button\n                        type=\"button\"\n                        onClick={() => setShowTooltip(showTooltip === option.id ? null : option.id)}\n                        className=\"absolute bottom-4 right-4 text-gray-400 hover:text-gray-600 transition-colors\"\n                        aria-label=\"Meer informatie\"\n                      >\n                        <Info size={16} />\n                      </button>\n                      \n                      {showTooltip === option.id && (\n                        <div className=\"absolute bottom-12 right-4 bg-white border border-gray-200 rounded-lg p-3 shadow-lg z-10 w-64\">\n                          <p className=\"text-gray-700 text-sm\">\n                            {option.id === 'modern_minimalist' && 'Modern Minimalist combineert strakke lijnen met neutrale kleuren. Denk aan tijdloze stukken die veelzijdig te combineren zijn en een clean uitstraling hebben.'}\n                            {option.id === 'casual_chic' && 'Casual Chic balanceert comfort met elegantie. Denk aan premium basics met subtiele details die moeiteloos stijlvol zijn voor dagelijks gebruik.'}\n                            {option.id === 'business_casual' && 'Business Casual is professioneel maar comfortabel. Denk aan nette broeken of rokken gecombineerd met casual tops, perfect voor kantoor of zakelijke afspraken.'}\n                            {option.id === 'streetstyle' && 'Streetstyle is ge√Ønspireerd door urban cultuur. Denk aan opvallende sneakers, oversized items en statement pieces die je persoonlijkheid laten zien.'}\n                            {option.id === 'classic_elegant' && 'Klassiek Elegant draait om tijdloze stukken met verfijnde details. Denk aan hoogwaardige materialen en silhouetten die nooit uit de mode raken.'}\n                            {option.id === 'urban_sporty' && 'Urban Sporty combineert sportieve elementen met stadse stijl. Denk aan functionele items met een moderne twist, perfect voor een actieve levensstijl.'}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n                \n                {error && (\n                  <div className=\"mb-4 p-3 bg-red-50 border border-red-100 rounded-lg\">\n                    <p className=\"text-red-600 text-sm\">{error}</p>\n                  </div>\n                )}\n\n                {/* Navigation Buttons */}\n                <div className=\"flex space-x-3\">\n                  <Button\n                    type=\"button\"\n                    variant=\"ghost\"\n                    onClick={goToPreviousStep}\n                    icon={<ArrowLeft size={18} />}\n                    iconPosition=\"left\"\n                    className=\"flex-1 text-gray-700 border border-gray-200 hover:bg-gray-50\"\n                  >\n                    Terug\n                  </Button>\n                  <Button\n                    type=\"submit\"\n                    variant=\"primary\"\n                    icon={<ArrowRight size={18} />}\n                    iconPosition=\"right\"\n                    className=\"flex-1 bg-[#bfae9f] hover:bg-[#a89a8c]\"\n                    disabled={selectedArchetypes.length === 0}\n                  >\n                    Volgende\n                  </Button>\n                </div>\n              </form>\n\n              {/* Privacy indicator */}\n              <div className=\"px-6 py-4 bg-gray-50 flex items-center justify-center space-x-2\">\n                <ShieldCheck size={18} className=\"text-[#bfae9f]\" />\n                <span className=\"text-sm text-gray-600\">Je gegevens zijn veilig en versleuteld</span>\n              </div>\n            </div>\n          </motion.div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ArchetypeStep;"],"names":["ArchetypeStep","data","updateData","completeStep","goToNextStep","goToPreviousStep","useOnboarding","selectedArchetypes","setSelectedArchetypes","useState","error","setError","showTooltip","setShowTooltip","useEffect","archetypeOptions","styleToArchetype","toggleArchetype","id","prev","a","handleSubmit","e","archetypes","style","jsx","jsxs","motion","option","ImageWithFallback","Info","Button","ArrowLeft","ArrowRight","ShieldCheck"],"mappings":"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"}