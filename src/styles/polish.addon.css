/* =========================================================
   FitFi · Editorial Polish v6 (tokens-only, mobile-first)
   Scope: HOME (herbruikbaar)
   ========================================================= */

/* ===== PAGE FRAME & HERO-BAND ===== */
#main{ background:var(--color-bg); color:var(--color-text); position:relative; }
#main:not(:has(.ff-page-hero))::before{
  content:""; position:absolute; inset-inline:0; top:0; height:220px;
  background: radial-gradient(1200px 220px at 50% -80px, var(--overlay-surface-12), transparent 70%);
  pointer-events:none; z-index:1;
}
.ff-page-hero{
  padding-block:3.75rem 2.25rem;
  background:
    radial-gradient(1200px 220px at 50% -80px, var(--overlay-surface-12), transparent 70%),
    var(--color-bg);
}
@media (min-width:768px){ .ff-page-hero{ padding-block:4.25rem 2.75rem; } }

/* ===== TYPO ===== */
.ff-hero-title{
  font-family: Montserrat, ui-sans-serif, system-ui;
  font-weight:700; line-height:1.1; letter-spacing:-0.01em; color:var(--color-text);
  font-size:clamp(1.95rem,3.3vw + 1rem,2.85rem); max-width:24ch;
}
.ff-hero-sub{ color:var(--color-muted); font-size:clamp(.98rem,.6vw + .82rem,1.1rem); max-width:60ch; }
.ff-lede{ color:var(--color-text); opacity:.9; font-size:clamp(1rem,.45vw + .95rem,1.125rem); }

/* ===== CTA'S ===== */
.ff-btn{ display:inline-flex; align-items:center; justify-content:center; height:2.75rem; border-radius:var(--radius-xl); padding:0 1rem; font-weight:600; }
.ff-btn-primary{ background:var(--ff-color-primary-700); color:#fff; }
.ff-btn-primary:hover{ background:var(--ff-color-primary-600); }
.ff-btn-secondary{ background:transparent; color:var(--color-text); border:1px solid var(--color-border); }
.ff-btn-secondary:hover{ border-color:var(--ff-color-primary-600); }
@media (max-width:480px){ .ff-page-hero .ff-btn{ width:100%; } .ff-page-hero .ff-btn + .ff-btn{ margin-left:0; } .ff-page-hero .ff-eyebrow{ font-size:.78rem; padding:.22rem .55rem; }}

/* ===== CONTAINERS ===== */
.ff-container{ margin-inline:auto; padding-inline:1rem; max-width:1280px; }
.ff-container--home{ margin-inline:auto; padding-inline:1rem; max-width:1120px; }
.ff-section{ padding-block:1.7rem; }
@media (min-width:768px){ .ff-section{ padding-block:2.4rem; } }
@media (min-width:1280px){ .ff-section{ padding-block:3rem; } }

/* ===== DEFAULT CARD (mobiel / non-editorial) ===== */
.ff-card{ background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius-lg); box-shadow:var(--shadow-soft); }
.ff-card-body{ padding:1.1rem; }
@media (min-width:768px){ .ff-card-body{ padding:1.25rem; } }

/* =========================================================
   BLOCK SYSTEM — gelabelde secties
   ========================================================= */
.ff-block{ background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius-2xl); box-shadow:var(--shadow-soft); overflow:hidden; }
.ff-block-head{
  display:flex; align-items:center; gap:.8rem; padding:.9rem 1rem;
  background:color-mix(in oklab, var(--color-surface) 92%, var(--color-bg) 8%);
  border-bottom:1px solid var(--color-border);
}
.ff-block-kicker{
  display:inline-flex; align-items:center; gap:.4ch; font-size:.78rem; letter-spacing:.06em; text-transform:uppercase;
  color:var(--color-muted); border:1px solid var(--color-border); background:var(--color-bg);
  padding:.15rem .5rem; border-radius:var(--radius-xl);
}
.ff-block-title{ font-weight:700; color:var(--color-text); font-size:clamp(1.05rem,.4vw + 1rem,1.25rem); }
.ff-block-body{ padding:1rem; }

/* Split-variant (rail + content) */
.ff-block--split .ff-block-inner{ display:grid; gap:.75rem; }
.ff-block--split .ff-block-aside{ padding:1rem; background:color-mix(in oklab, var(--color-surface) 92%, var(--color-bg) 8%); border-bottom:1px solid var(--color-border); }
@media (min-width:1024px){
  .ff-block--split .ff-block-inner{ grid-template-columns:340px minmax(0,1fr); gap:1.6rem; }
  .ff-block--split .ff-block-aside{
    border-bottom:0; border-right:1px solid var(--color-border);
    display:flex; flex-direction:column; justify-content:space-between;
    position:sticky; top:90px;
  }
  .ff-block--split .ff-block-body{ padding:1.5rem 1.2rem; }
}

/* =========================================================
   EDITORIAL LISTS
   ========================================================= */
.ff-list{ display:grid; gap:.65rem; list-style:none; padding:0; margin:0; }
.ff-list.ff-tight{ gap:.5rem; }

/* Default row (mobiel tone-on-tone) */
.ff-row{
  position:relative; display:grid; gap:.25rem;
  padding:1rem 1rem 1.05rem 1rem;
  background:color-mix(in oklab, var(--color-bg) 94%, var(--color-surface) 6%);
  border:1px solid color-mix(in oklab, var(--color-border) 70%, transparent);
  border-radius:var(--radius-xl);
}
.ff-row-title{ font-weight:600; color:var(--color-text); }
.ff-row-sub{ color:var(--color-text); opacity:.78; line-height:1.45; font-size:.99rem; }

/* Hairline (pure editorial) */
.ff-list--hairline .ff-row{ background:transparent; border:0; border-radius:0; padding:.95rem 0; }
.ff-list--hairline .ff-row + .ff-row{ border-top:1px solid color-mix(in oklab, var(--color-border) 78%, transparent); }

/* ===== Timeline (mobiel) — variabelen zodat niets overlapt ===== */
.ff-list--spine{
  position:relative;
  --spine-x:1.2rem;    /* x van verticale lijn */
  --badge-x:2.55rem;   /* x van nummerbadge */
  --content-pad:3.9rem;/* padding links in de row */
}
.ff-list--spine::before{
  content:""; position:absolute; left:var(--spine-x); top:.25rem; bottom:.25rem; width:2px;
  background:color-mix(in oklab, var(--color-border) 72%, transparent); border-radius:2px;
}
.ff-list--spine .ff-row{ padding-left:var(--content-pad); background:var(--color-bg); }
.ff-list--spine .ff-row::before{
  content:""; position:absolute; left:calc(var(--spine-x) - .2rem); top:1.15rem;
  width:.44rem; height:.44rem; border-radius:9999px;
  background:var(--ff-color-primary-600);
  box-shadow:0 0 0 2px color-mix(in oklab, var(--ff-color-primary-600) 22%, transparent);
}
.ff-row--numbered .ff-row-title{ position:relative; }
.ff-row--numbered .ff-row-title::after{
  content:attr(data-nr);
  position:absolute; left:var(--badge-x); top:.95rem;
  display:inline-grid; place-items:center; min-width:1.2rem; height:1.2rem;
  border-radius:var(--radius-xl); font-size:.8rem; font-weight:700;
  color:var(--color-text); background:var(--color-surface); border:1px solid var(--color-border);
}
@media (max-width:420px){ .ff-list--spine{ --badge-x:2.7rem; --content-pad:4.1rem; } }

/* ===== Desktop grids ===== */
@media (min-width:1024px){
  .ff-list--grid-lg-2{ grid-template-columns:repeat(2,minmax(0,1fr)); gap:1.25rem; }
  .ff-list--grid-xl-3{ grid-template-columns:repeat(3,minmax(0,1fr)); gap:1.35rem; }
}

/* ===== Desktop cards (alleen buiten editorial-modus) ===== */
@media (min-width:768px){
  .ff-list--md-cards .ff-row{
    background:var(--color-surface); border:1px solid var(--color-border); border-radius:var(--radius-lg); box-shadow:var(--shadow-soft); padding:1rem 1rem;
  }
  .ff-list--md-cards.ff-list--spine::before,
  .ff-list--md-cards.ff-list--spine .ff-row::before{ display:none; }
  .ff-list--md-cards .ff-row--numbered .ff-row-title{ display:flex; align-items:center; gap:.5rem; }
  .ff-list--md-cards .ff-row--numbered .ff-row-title::after{ position:static; margin-right:.25rem; }
  @media (prefers-reduced-motion:no-preference){
    .ff-list--md-cards .ff-row{ transition:transform .18s ease, box-shadow .18s ease; }
    .ff-list--md-cards .ff-row:hover{ transform:translateY(-2px); box-shadow:var(--shadow-soft), 0 6px 18px -12px color-mix(in oklab, var(--color-text) 14%, transparent); }
  }
}

/* =========================================================
   DESKTOP MAGAZINE MODE (vlak + hairlines + horizontale stappen)
   Activeer met .ff-editorial-lg op <main>.
   ========================================================= */
@media (min-width:1024px){
  .ff-editorial-lg .ff-block{ background:transparent; border:0; box-shadow:none; border-radius:0; }
  .ff-editorial-lg .ff-block-head{ background:transparent; border:0; padding:0 0 .9rem 0; border-bottom:1px solid var(--color-border); }
  .ff-editorial-lg .ff-block-aside{ background:transparent; border:0; }
  .ff-editorial-lg .ff-block-title{ font-size:1.45rem; letter-spacing:-0.01em; }
  .ff-editorial-lg .ff-lede{ font-size:1.125rem; opacity:.88; }
  .ff-editorial-lg .ff-block-body{ padding-block:1.2rem; }

  /* Lijsten als hairlines */
  .ff-editorial-lg .ff-list .ff-row{ background:transparent; border:0; border-radius:0; padding:1rem 0 1.05rem 0; }
  .ff-editorial-lg .ff-list .ff-row + .ff-row{ border-top:1px solid color-mix(in oklab, var(--color-border) 70%, transparent); }

  /* Timeline/dots uit; nummers inline voor titel */
  .ff-editorial-lg .ff-list--spine::before,
  .ff-editorial-lg .ff-list--spine .ff-row::before{ display:none; }
  .ff-editorial-lg .ff-row--numbered .ff-row-title{ display:flex; align-items:center; gap:.6rem; }
  .ff-editorial-lg .ff-row--numbered .ff-row-title::after{ position:static; margin:0; }

  /* HORIZONTALE STAPPENRAIL */
  .ff-editorial-lg .ff-steps{ display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:2rem; position:relative; }
  .ff-editorial-lg .ff-steps::before{ content:""; position:absolute; left:0; right:0; top:1.05rem; height:1px; background:var(--color-border); }
  .ff-editorial-lg .ff-steps .ff-row{ padding:0; }
  .ff-editorial-lg .ff-steps .ff-row-title::after{
    display:grid; place-items:center; min-width:1.6rem; height:1.6rem;
    border-radius:9999px; border:1px solid var(--color-border); background:var(--color-surface);
    font-weight:700; font-size:.82rem;
  }

  /* BREAKOUT MEDIA (afbeelding breekt rechts uit de kolom) */
  .ff-editorial-lg .ff-breakout-r{ overflow:visible; }
  .ff-editorial-lg .ff-breakout-r > *{ transform:translateX(6vw); width:calc(100% + 6vw); }
}

/* ===== MEDIA FRAME ===== */
.ff-media-frame{ border:1px solid var(--color-border); background:var(--color-surface); border-radius:var(--radius-2xl); box-shadow:var(--shadow-soft); overflow:hidden; }
.ff-media-frame img{ width:100%; height:auto; display:block; }

/* ===== MICRO POLISH ===== */
@media (max-width:480px){
  .ff-section{ padding-block:1.45rem; }
  .ff-container, .ff-container--home{ padding-inline:.9rem; }
  .ff-card-body{ padding:1rem; }
}
.ff-focus-ring{ outline:none; box-shadow:var(--shadow-ring); }
.ff-navlink:hover{ color:var(--ff-color-primary-600); }
.ff-nav-active{ background:var(--color-surface); border:1px solid var(--color-border); color:var(--color-text); }
.ff-eyebrow{ display:inline-flex; align-items:center; gap:.5ch; border:1px solid var(--color-border); background:var(--color-surface); color:var(--color-muted); padding:.25rem .6rem; border-radius:var(--radius-2xl); font-size:.82rem; letter-spacing:.02em; }